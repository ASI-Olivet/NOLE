    <!-- (HTML): Minimal Leaflet map with Tampa Bay bounds -->
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <!-- (CSS): Load Leaflet CSS map rendering -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>NOLE â€” Tampa Bay Map</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <style>
      /* (CSS): Full-viewport map container */
      html, body, #map { height: 100%; margin: 0; }
    </style>
  </head>
  <body>
    <div id="map" aria-label="Tampa Bay Map"></div>

    <!-- (JavaScript): Load Leaflet JS and configure map + bounds -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script>
      // Basic center for Tampa Bay
      const centerStPete = [27.77, -82.64];

      // Create the map
      // --- Load multiple ENC layers (all *_4326_clipTB.geojson) ---
// --- Minimal batch loader: 2 known good files ---
const encLayers = [
  {
    name: "Coastal Bridges",
    file: "Coastal_Bridge_area_4326_clipTB.geojson",
    style: {
      color: "#ff00ff",
      weight: 2,
      fillColor: "#ff00ff",
      fillOpacity: 0.3,
    },
  },
  {
    name: "Coastal Caution Area",
    file: "Coastal_Caution_Area_4326_clipTB.geojson",
    style: {
      color: "#ff8800",
      weight: 2,
      fillColor: "#ff8800",
      fillOpacity: 0.2,
    },
  },
];

let allBounds = null;

encLayers.forEach((cfg) => {
  fetch(cfg.file)
    .then((response) => {
      console.log(`Fetching ${cfg.name}:`, cfg.file, "status", response.status);
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}`);
      }
      return response.json();
    })
    .then((data) => {
      const layer = L.geoJSON(data, {
        style: cfg.style,
      });

      layer.addTo(map);
      layer.bringToFront();

      const bounds = layer.getBounds();
      console.log(
        `${cfg.name} features:`,
        data.features?.length ?? "no features array",
        "bounds:",
        bounds
      );

      if (bounds.isValid()) {
        if (allBounds) {
          allBounds.extend(bounds);
        } else {
          allBounds = bounds;
        }
        map.fitBounds(allBounds);
      }
    })
    .catch((err) => {
      console.error(`Error loading ${cfg.name}:`, err);
    });
});

    </script> 
  </body>
  </html>

