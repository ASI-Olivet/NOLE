  <!-- (HTML): Minimal Leaflet map with Tampa Bay bounds -->
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <!-- (CSS): Load Leaflet CSS map rendering -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>NOLE — Tampa Bay Map</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <style>
      /* (CSS): Full-viewport map container */
      html, body, #map { height: 100%; margin: 0; }
    </style>
  </head>
  <body>
    <div id="map" aria-label="Tampa Bay Map"></div>

    <!-- (JavaScript): Load Leaflet JS and configure map + bounds -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script>
      // Center St. Pete
      const centerStPete = [27.770, -82.640];

      // Bounding box: 
      // North ~ Hudson:   28.36°N,  -82.69°W
      // South ~ Venice:   27.10°N,  -82.45°W
      // West buffer (Gulf):          -83.05°W
      // East buffer (Tampa):  -82.10°W
      const tampaBounds = L.latLngBounds(
         [27.05, -83.05],   
         [28.40, -82.10]    
      );

      // Create map, lock bounds, set zoom limits
      const map = L.map('map', {
        minZoom: 9,
        maxZoom: 18,
        maxBounds: tampaBounds,
        maxBoundsViscosity: 0.9 
        // elastic edge when kids outside
      }).setView(centerStPete, 11);

      // Base layer (OpenStreetMap)
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '© OpenStreetMap contributors'
      }).addTo(map);

      //simple scale bar
      L.control.scale({ metric: true, imperial: true }).addTo(map);
      // Load ENC Harbour coastline layer (GeoJSON)
      // --- Load one ENC Fairway area layer (test) ---
      fetch("data/Coastal_Fairway_area_4326.geojson")
        .then((response) => response.json())
        .then((data) => {
          console.log("ENC Fairway loaded, feature count:", data.features ? data.features.length : "no features field");

          const encTestLayer = L.geoJSON(data, {
            style: {
              color: "#00ff00",
              weight: 2,
              fillColor: "#00ff00",
              fillOpacity: 0.4
            }
          }).addTo(map);

          const bounds = encTestLayer.getBounds();
          console.log("ENC Fairway layer bounds:", bounds);

          encTestLayer.bringToFront();
          map.fitBounds(bounds);
        })
    </script>
  </body>
  </html>

